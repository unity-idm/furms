{"openapi":"3.0.1","info":{"title":"FURMS REST API","license":{"name":"BSD","url":"https://opensource.org/licenses/BSD-2-Clause"},"version":"3.0.0-SNAPSHOT"},"servers":[{"url":"http://localhost:43191","description":"Generated server url"}],"security":[{"CIdP token":[]},{"FURMS API token":[]}],"tags":[{"name":"Central IdP Endpoint","description":"API intended for use by Fenix Central IdP, providing access to FURMS user attributes and basic user management."},{"name":"Site Endpoint","description":"FURMS administration endpoint that provides comprehensive access to information about sites as well as exposes basic operations that can be done in a site context."},{"name":"Projects Endpoint","description":"FURMS administration endpoint that provides comprehensive access to Projects as well as exposes basic operations that can be done in context of a Projects"},{"name":"Communities Endpoint","description":"FURMS administration endpoint that provides comprehensive access to communities as well as exposes basic operations that can be done in the context of communities."}],"paths":{"/rest-api/v1/communities/{communityId}/groups":{"get":{"tags":["Communities Endpoint"],"summary":"Retrieve all groups","description":"Returns information about all groups in a community.","operationId":"getGroups","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Group"}}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Group"}}}}},"404":{"description":"Community not found"}},"security":[{"FURMS API token":[]}]},"post":{"tags":["Communities Endpoint"],"summary":"Add group","description":"Creates a new group in a community.","operationId":"addGroup","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupDefinition"}}}},"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Group"}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Group"}}}},"404":{"description":"Community not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/communities/{communityId}/groups/{groupId}":{"get":{"tags":["Communities Endpoint"],"summary":"Get group with members","description":"Returns complete information about a group, including membership information.","operationId":"getGroup","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}},{"name":"groupId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupWithMembers"}}}},"404":{"description":"Community or group not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupWithMembers"}}}}},"security":[{"FURMS API token":[]}]},"put":{"tags":["Communities Endpoint"],"summary":"Update group","description":"Update mutable elements of a group.","operationId":"updateGroup","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupDefinition"}}}},"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Group"}}}},"404":{"description":"Community or group not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Group"}}}}},"security":[{"FURMS API token":[]}]},"delete":{"tags":["Communities Endpoint"],"summary":"Delete group","description":"Removes a group from a community.","operationId":"deleteGroup","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}},{"name":"groupId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied"},"404":{"description":"Community or group not found"},"200":{"description":"Successful operation"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/communities/{communityId}/allocations":{"get":{"tags":["Communities Endpoint"],"summary":"Retrieve all allocations","description":"Retrieve all allocations of a community.","operationId":"getAllocations","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunityAllocation"}}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunityAllocation"}}}}},"404":{"description":"Community not found"}},"security":[{"FURMS API token":[]}]},"post":{"tags":["Communities Endpoint"],"summary":"Create allocation","description":"Create a new allocation for a community.","operationId":"addAllocation","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunityAllocationDefinition"}}}},"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunityAllocation"}}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunityAllocation"}}}}},"404":{"description":"Community not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/communities/{communityId}/allocations/{communityAllocationId}":{"get":{"tags":["Communities Endpoint"],"summary":"Retrieve allocation","description":"Retrieve a particular allocation of a community.","operationId":"getAllocation","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}},{"name":"communityAllocationId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunityAllocation"}}}},"404":{"description":"Community or allocation not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunityAllocation"}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/communities":{"get":{"tags":["Communities Endpoint"],"summary":"Retrieve all communities","description":"Returns complete information about all communities including its allocations","operationId":"getCommunities","responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Community"}}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Community"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/communities/{communityId}":{"get":{"tags":["Communities Endpoint"],"summary":"Retrieve particular community","description":"Returns complete information about community including its allocations","operationId":"getCommunity","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Community"}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Community"}}}},"404":{"description":"Community not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/projects":{"get":{"tags":["Projects Endpoint"],"summary":"Retrieve all projects","description":"Returns complete information about all projects including its allocations","operationId":"getAll","responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Project"}}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Project"}}}}}},"security":[{"FURMS API token":[]}]},"post":{"tags":["Projects Endpoint"],"summary":"Add project","description":"Creates project under particular community.","operationId":"add","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectDefinition"}}}},"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Project"}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Project"}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/projects/{projectId}":{"get":{"tags":["Projects Endpoint"],"summary":"Retrieve project information with members","description":"Returns complete information about project including its allocations and its members.","operationId":"get","parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Project not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectWithUsers"}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectWithUsers"}}}}},"security":[{"FURMS API token":[]}]},"put":{"tags":["Projects Endpoint"],"summary":"Update project","description":"Update particular project.","operationId":"update","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectMutableDefinition"}}}},"responses":{"404":{"description":"Project not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Project"}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Project"}}}}},"security":[{"FURMS API token":[]}]},"delete":{"tags":["Projects Endpoint"],"summary":"Delete project","description":"Removes project from community.","operationId":"delete","parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Project not found"},"403":{"description":"Permission denied"},"200":{"description":"Successful operation"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/projects/{projectId}/allocations":{"get":{"tags":["Projects Endpoint"],"summary":"Retrieve all allocations","description":"Retrieve all project's allocations information","operationId":"getAllocations_1","parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Project not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}}},"security":[{"FURMS API token":[]}]},"post":{"tags":["Projects Endpoint"],"summary":"Create allocation","description":"Allocate resources to a project.","operationId":"addAllocation_1","parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectAllocationDefinition"}}}},"responses":{"404":{"description":"Project not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/projects/{projectId}/allocations/{projectAllocationId}":{"get":{"tags":["Projects Endpoint"],"summary":"Retrieve allocation information","description":"Retrieve project's allocation information","operationId":"getAllocation_1","parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}},{"name":"projectAllocationId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Project or allocation not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectAllocation"}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectAllocation"}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/policies/{policyId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve a given site policy","operationId":"getPolicy","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"policyId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Site or policy not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Policy"}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Policy"}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/furmsAllocations/{projectId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve FURMS allocations at the site of a project","description":"Retrieve given project allocations at the site as assigned in FURMS","operationId":"getProjectAllocations","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}},"404":{"description":"Site or project not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/siteAllocations":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve site allocated resources to projects","description":"Retrieve all project allocations at the site as assigned by the site","operationId":"getSiteAllocatedResources","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SiteAllocatedResources"}}}}},"404":{"description":"Site not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SiteAllocatedResources"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/siteAllocations/{projectId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve site allocated resources to a project","description":"Retrieve given project allocations at the site as assigned by the site","operationId":"getSiteAllocatedProjectResources","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SiteAllocatedResources"}}}}},"404":{"description":"Site or project not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SiteAllocatedResources"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/cumulativeResourcesConsumption/{projectId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve cumulative project resource consumption","description":"Retrieve cumultaive resoruce consumption recorded by FURMS for a given project on a site.","operationId":"getProjectCumulativeResourceConsumption","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectCumulativeResourceConsumption"}}}}},"404":{"description":"Site or project not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectCumulativeResourceConsumption"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/usageRecords/{projectId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve project resource usage records","description":"Retrieve individual resoruce usage records, stored by FURMS for a given project on a site. Records have per-user granularity. Caller can limit time range of records.","operationId":"getProjectResourceUsageRecords","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}},{"name":"from","in":"query","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"until","in":"query","required":false,"schema":{"type":"string","format":"date-time"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectUsageRecord"}}}}},"404":{"description":"Site or project not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectUsageRecord"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/furmsAllocations":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve all FURMS allocations at the site","description":"Retrieve all project allocations at the site as assigned in FURMS","operationId":"getAllocations_2","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}},"404":{"description":"Site not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve all sites","description":"Returns complete information about all sites including their allocations, resource types, services and policies.","operationId":"getSites","responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Site"}}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Site"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve particular site information","description":"Returns complete information about a site, including its all allocations, resource types, services and policies","operationId":"getSite","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Site"}}}},"404":{"description":"Site not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Site"}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/credits":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve credits","description":"Retrieve all resource credits of a site.","operationId":"getResourceCredits","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceCredit"}}}}},"404":{"description":"Site not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceCredit"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/credits/{creditId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve resource credit","description":"Retrieve details of a given resource credit.","operationId":"getResourceCredit","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"creditId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Site or allocation not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceCredit"}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceCredit"}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/resourceTypes":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve all resource types","operationId":"getResourceTypes","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceType"}}}}},"404":{"description":"Site not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceType"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/resourceTypes/{resourceTypeId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve a given resource type","operationId":"getResourceType","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"resourceTypeId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceType"}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceType"}}}},"404":{"description":"Site or resource type not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/policies":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve site policies","operationId":"getPolicies","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Policy"}}}}},"404":{"description":"Site not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Policy"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/policyAcceptances":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve site policies acceptance","description":"Returns list of all site's users with policies and status whether given policy is accepcted or not.","operationId":"getPoliciesAcceptance","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PolicyAcceptance"}}}}},"404":{"description":"Site not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PolicyAcceptance"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/policies/{policyId}/acceptance/{fenixUserId}/{status}":{"post":{"tags":["Site Endpoint"],"summary":"Accept sites policy on behalf of user","description":"Performs opertion of accepting the policy on behalf of given user.","operationId":"addPolicyAcceptance","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"policyId","in":"path","required":true,"schema":{"type":"string"}},{"name":"fenixUserId","in":"path","required":true,"schema":{"type":"string"}},{"name":"status","in":"path","required":true,"schema":{"$ref":"#/components/schemas/PolicyAcceptance"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PolicyAcceptance"}}}}},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PolicyAcceptance"}}}}},"404":{"description":"Site, policy or user not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/protocolMessages":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve pending requests","description":"Returns all pending site's requests, which were sent to the site agent.","operationId":"getProtocolMessages","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProtocolMessage"}}}}},"404":{"description":"Site not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProtocolMessage"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/protocolMessages/{messageId}":{"post":{"tags":["Site Endpoint"],"summary":"Retry site request","description":"Retry sending a request to a site agent.","operationId":"retryProtocolMessage","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied"},"200":{"description":"Successful operation"},"404":{"description":"Site or message not found"}},"security":[{"FURMS API token":[]}]},"delete":{"tags":["Site Endpoint"],"summary":"Drop pending request","description":"Removes a pending protocol request. It won't be possible to retry the removed request, FURMS will assume it has timed out.","operationId":"dropProtocolMessage","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied"},"200":{"description":"Successful operation"},"404":{"description":"Site or request not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/projectInstallations":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve project installations","description":"Returns list of projects that should be installed on the site with details of installation status","operationId":"getInstalledProjects","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectInstallation"}}}}},"404":{"description":"Site not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectInstallation"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/users":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve all users that should have access to a site","description":"Returns list of users that have access to the site through at least one of their projects. SSH key of each user is provided as well.","operationId":"getSiteUsers","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SiteUser"}}}}},"404":{"description":"Site not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SiteUser"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/services/{serviceId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve a given site service","operationId":"getService","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"serviceId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Service"}}}},"404":{"description":"Site or service not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Service"}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/services":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve all services","operationId":"getServices","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Service"}}}}},"404":{"description":"Site not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Service"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/cidp/user/{fenixUserId}":{"get":{"tags":["Central IdP Endpoint"],"summary":"Retrieve user attributes","description":"Returns a complete information about a given user, including project membership and global attributes.","operationId":"getUserRecord","parameters":[{"name":"fenixUserId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"User not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRecordJson"}}}}},"security":[{"CIdP token":[]}]}},"/rest-api/v1/cidp/user/{fenixUserId}/status":{"get":{"tags":["Central IdP Endpoint"],"summary":"Get user status","operationId":"getUserStatus","parameters":[{"name":"fenixUserId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"User not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatusHolder"}}}}},"security":[{"CIdP token":[]}]},"post":{"tags":["Central IdP Endpoint"],"summary":"Set user status","operationId":"setUserStatus","parameters":[{"name":"fenixUserId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatusHolder"}}}},"responses":{"404":{"description":"User not found"},"200":{"description":"Successful operation"}},"security":[{"CIdP token":[]}]}}},"components":{"schemas":{"Group":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"id":{"type":"string"}}},"GroupDefinition":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}}},"CommunityAllocation":{"type":"object","properties":{"siteAllocationId":{"$ref":"#/components/schemas/SiteCreditId"},"name":{"type":"string"},"resourceType":{"$ref":"#/components/schemas/ResourceType"},"amount":{"$ref":"#/components/schemas/ResourceAmount"},"id":{"$ref":"#/components/schemas/CommunityAllocationId"}}},"CommunityAllocationId":{"type":"object","properties":{"communityId":{"type":"string"},"allocationId":{"type":"string"}}},"ResourceAmount":{"type":"object","properties":{"amount":{"type":"number"},"unit":{"type":"string"}}},"ResourceType":{"type":"object","properties":{"id":{"$ref":"#/components/schemas/ResourceTypeId"},"name":{"type":"string"},"serviceId":{"$ref":"#/components/schemas/ServiceId"}}},"ResourceTypeId":{"type":"object","properties":{"siteId":{"type":"string"},"typeId":{"type":"string"}}},"ServiceId":{"type":"object","properties":{"siteId":{"type":"string"},"serviceId":{"type":"string"}}},"SiteCreditId":{"type":"object","properties":{"siteId":{"type":"string"},"creditId":{"type":"string"}}},"CommunityAllocationDefinition":{"type":"object","properties":{"siteAllocationId":{"$ref":"#/components/schemas/SiteCreditId"},"name":{"type":"string"},"resourceType":{"$ref":"#/components/schemas/ResourceType"},"amount":{"$ref":"#/components/schemas/ResourceAmount"}}},"GroupWithMembers":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"id":{"type":"string"},"memberFenixUserIds":{"type":"array","items":{"type":"string"}}}},"Community":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"allocations":{"type":"array","items":{"type":"string"}}}},"Affiliation":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"country":{"type":"string"},"postalAddress":{"type":"string"}}},"ProjectDefinition":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"validity":{"$ref":"#/components/schemas/Validity"},"researchField":{"type":"string"},"projectLeader":{"$ref":"#/components/schemas/User"},"communityId":{"type":"string"},"acronym":{"type":"string"},"gid":{"type":"string"}}},"User":{"type":"object","properties":{"fenixIdentifier":{"type":"string"},"title":{"type":"string"},"firstname":{"type":"string"},"lastname":{"type":"string"},"email":{"type":"string"},"affiliation":{"$ref":"#/components/schemas/Affiliation"},"nationality":{"type":"string"},"phone":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"placeOfBirth":{"type":"string"},"postalAddress":{"type":"string"}}},"Validity":{"type":"object","properties":{"from":{"type":"string","format":"date-time"},"to":{"type":"string","format":"date-time"}}},"Project":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"validity":{"$ref":"#/components/schemas/Validity"},"researchField":{"type":"string"},"projectLeader":{"$ref":"#/components/schemas/User"},"communityId":{"type":"string"},"acronym":{"type":"string"},"gid":{"type":"string"},"id":{"type":"string"}}},"ProjectWithUsers":{"type":"object","properties":{"project":{"$ref":"#/components/schemas/Project"},"userFenixUserIds":{"type":"array","items":{"type":"string"}}}},"ProjectMutableDefinition":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"validity":{"$ref":"#/components/schemas/Validity"},"researchField":{"type":"string"},"projectLeader":{"$ref":"#/components/schemas/User"}}},"ProjectAllocation":{"type":"object","properties":{"communityAllocationId":{"$ref":"#/components/schemas/CommunityAllocationId"},"name":{"type":"string"},"resourceType":{"$ref":"#/components/schemas/ResourceType"},"amount":{"$ref":"#/components/schemas/ResourceAmount"},"id":{"$ref":"#/components/schemas/ProjectAllocationId"}}},"ProjectAllocationId":{"type":"object","properties":{"projectId":{"type":"string"},"allocationId":{"type":"string"}}},"ProjectAllocationDefinition":{"type":"object","properties":{"communityAllocationId":{"$ref":"#/components/schemas/CommunityAllocationId"},"name":{"type":"string"},"resourceType":{"$ref":"#/components/schemas/ResourceType"},"amount":{"$ref":"#/components/schemas/ResourceAmount"}}},"Policy":{"type":"object","properties":{"id":{"$ref":"#/components/schemas/PolicyId"},"name":{"type":"string"},"revision":{"type":"integer","format":"int32"}}},"PolicyId":{"type":"object","properties":{"siteId":{"type":"string"},"policyId":{"type":"string"}}},"SiteAllocatedResources":{"type":"object","properties":{"allocationId":{"$ref":"#/components/schemas/ProjectAllocationId"},"amount":{"$ref":"#/components/schemas/ResourceAmount"},"validity":{"$ref":"#/components/schemas/Validity"}}},"ProjectCumulativeResourceConsumption":{"type":"object","properties":{"projectAllocationId":{"$ref":"#/components/schemas/ProjectAllocationId"},"resourceTypeId":{"$ref":"#/components/schemas/ResourceTypeId"},"consumedAmount":{"$ref":"#/components/schemas/ResourceAmount"},"consumedUntil":{"type":"string","format":"date-time"}}},"ProjectUsageRecord":{"type":"object","properties":{"projectAllocationId":{"$ref":"#/components/schemas/ProjectAllocationId"},"resourceTypeId":{"$ref":"#/components/schemas/ResourceTypeId"},"consumedAmount":{"$ref":"#/components/schemas/ResourceAmount"},"userFenixId":{"type":"string"},"from":{"type":"string","format":"date-time"},"until":{"type":"string","format":"date-time"}}},"ResourceCredit":{"type":"object","properties":{"id":{"$ref":"#/components/schemas/SiteCreditId"},"name":{"type":"string"},"validity":{"$ref":"#/components/schemas/Validity"},"resourceTypeId":{"type":"string"},"amount":{"$ref":"#/components/schemas/ResourceAmount"}}},"Service":{"type":"object","properties":{"id":{"$ref":"#/components/schemas/ServiceId"},"name":{"type":"string"},"policyId":{"$ref":"#/components/schemas/PolicyId"}}},"Site":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"resourceCredits":{"type":"array","items":{"$ref":"#/components/schemas/ResourceCredit"}},"resourceTypes":{"type":"array","items":{"$ref":"#/components/schemas/ResourceType"}},"services":{"type":"array","items":{"$ref":"#/components/schemas/Service"}},"policies":{"type":"array","items":{"$ref":"#/components/schemas/Policy"}}}},"PolicyAcceptance":{"type":"object","properties":{"fenixUserId":{"type":"string"},"policyId":{"type":"string"},"accepted":{"type":"string","enum":["ACCEPTED","REJECTED","UNKNOWN"]},"processedOn":{"type":"string","format":"date-time"},"revision":{"type":"integer","format":"int32"}}},"ProtocolMessage":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","enum":["USER_PROVISIONING","SSH_KEY_PROVISIONING"]},"status":{"type":"string","enum":["SENT","ACKNOWLEDGED"]},"sentOn":{"type":"string","format":"date-time"},"ackOn":{"type":"string","format":"date-time"}}},"ProjectInstallation":{"type":"object","properties":{"project":{"$ref":"#/components/schemas/Project"},"installationStatus":{"type":"string","enum":["INSTALLED","PENDING","REJECTED"]},"lastStatusChangeOn":{"type":"string","format":"date-time"},"gid":{"type":"string"}}},"SiteUser":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"},"uid":{"type":"string"},"sshKeys":{"type":"array","items":{"type":"string"}},"projectIds":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"AttributeJson":{"type":"object","properties":{"name":{"type":"string"},"values":{"type":"array","items":{"type":"string"}}}},"CommunityMembershipJson":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"groups":{"type":"array","items":{"$ref":"#/components/schemas/GroupMembershipJson"}},"projects":{"type":"array","items":{"$ref":"#/components/schemas/ProjectMembershipJson"}},"attributes":{"type":"array","items":{"$ref":"#/components/schemas/AttributeJson"}}}},"GroupMembershipJson":{"type":"object","properties":{"name":{"type":"string"},"attributes":{"type":"array","items":{"$ref":"#/components/schemas/AttributeJson"}}}},"ProjectMembershipJson":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"attributes":{"type":"array","items":{"$ref":"#/components/schemas/AttributeJson"}}}},"SiteSSHKeysJson":{"type":"object","properties":{"siteId":{"type":"string"},"siteName":{"type":"string"},"sshKeys":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"UserRecordJson":{"type":"object","properties":{"userStatus":{"type":"string","enum":["ENABLED","DISABLED"]},"attributes":{"type":"array","items":{"$ref":"#/components/schemas/AttributeJson"}},"communities":{"type":"array","items":{"$ref":"#/components/schemas/CommunityMembershipJson"}},"sshKeys":{"type":"array","items":{"$ref":"#/components/schemas/SiteSSHKeysJson"}}}},"UserStatusHolder":{"type":"object","properties":{"status":{"type":"string","enum":["ENABLED","DISABLED"]}}}},"securitySchemes":{"CIdP token":{"type":"http","description":"Pre-shared secret between Fenix central IdP and FURMS shall be used for authentication and authorization of each request with HTTP Basic encoding in HTTP header","name":"CIdP token","scheme":"BASIC"},"FURMS API token":{"type":"http","description":"Pre-shared token generated by FURMS shall be used for authentication and authorization of each request, together with owner's user id presented next to the generated token.","name":"FURMS API token","scheme":"BASIC"}}}}