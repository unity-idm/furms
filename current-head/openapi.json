{"openapi":"3.0.1","info":{"title":"FURMS REST API","license":{"name":"BSD","url":"https://opensource.org/licenses/BSD-2-Clause"},"version":"2.0.0-SNAPSHOT"},"servers":[{"url":"http://localhost:40391","description":"Generated server url"}],"security":[{"CIdP token":[]},{"FURMS API token":[]}],"tags":[{"name":"Central IdP Endpoint","description":"API intended for use by Fenix Central IdP, providing access to FURMS user attributes and basic user management."}],"paths":{"/rest-api/v1/cidp/user/{fenixUserId}":{"get":{"tags":["Central IdP Endpoint"],"summary":"Retrieve user attributes","description":"Returns a complete information about a given user, including project membership and global attributes.","operationId":"getUserRecord","parameters":[{"name":"fenixUserId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"User not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRecordJson"}}}}},"security":[{"CIdP token":[]}]}},"/rest-api/v1/cidp/user/{fenixUserId}/status":{"get":{"tags":["Central IdP Endpoint"],"summary":"Get user status","operationId":"getUserStatus","parameters":[{"name":"fenixUserId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"User not found"},"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatusHolder"}}}}},"security":[{"CIdP token":[]}]},"post":{"tags":["Central IdP Endpoint"],"summary":"Set user status","operationId":"setUserStatus","parameters":[{"name":"fenixUserId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatusHolder"}}}},"responses":{"404":{"description":"User not found"},"200":{"description":"Successful operation"}},"security":[{"CIdP token":[]}]}}},"components":{"schemas":{"AttributeJson":{"type":"object","properties":{"name":{"type":"string"},"values":{"type":"array","items":{"type":"string"}}}},"CommunityMembershipJson":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"groups":{"type":"array","items":{"$ref":"#/components/schemas/GroupMembershipJson"}},"projects":{"type":"array","items":{"$ref":"#/components/schemas/ProjectMembershipJson"}},"attributes":{"type":"array","items":{"$ref":"#/components/schemas/AttributeJson"}}}},"GroupMembershipJson":{"type":"object","properties":{"name":{"type":"string"},"attributes":{"type":"array","items":{"$ref":"#/components/schemas/AttributeJson"}}}},"ProjectMembershipJson":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"attributes":{"type":"array","items":{"$ref":"#/components/schemas/AttributeJson"}}}},"UserRecordJson":{"type":"object","properties":{"userStatus":{"type":"string","enum":["ENABLED","DISABLED"]},"attributes":{"type":"array","items":{"$ref":"#/components/schemas/AttributeJson"}},"communities":{"type":"array","items":{"$ref":"#/components/schemas/CommunityMembershipJson"}}}},"UserStatusHolder":{"type":"object","properties":{"status":{"type":"string","enum":["ENABLED","DISABLED"]}}}},"securitySchemes":{"CIdP token":{"type":"http","description":"Pre-shared secret between Fenix central IdP and FURMS shall be used for authentication and authorization of each request with HTTP Basic encoding in HTTP header","name":"CIdP token","scheme":"BASIC"},"FURMS API token":{"type":"http","description":"Pre-shared token generated by FURMS shall be used for authentication and authorization of each request","name":"FURMS API token","scheme":"bearer"}}}}