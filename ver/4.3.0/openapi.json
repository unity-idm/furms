{"openapi":"3.0.1","info":{"title":"FURMS REST API","license":{"name":"BSD","url":"https://opensource.org/licenses/BSD-2-Clause"},"version":"4.3.0"},"servers":[{"url":"http://localhost:34373","description":"Generated server url"}],"security":[{"CIdP token":[]},{"FURMS API token":[]}],"tags":[{"name":"Communities Endpoint","description":"FURMS administration endpoint that provides comprehensive access to communities as well as exposes basic operations that can be done in the context of communities."},{"name":"Site Endpoint","description":"FURMS administration endpoint that provides comprehensive access to information about sites as well as exposes basic operations that can be done in a site context."},{"name":"Central IdP Endpoint","description":"API intended for use by Fenix Central IdP, providing access to FURMS user attributes and basic user management."},{"name":"Projects Endpoint","description":"FURMS administration endpoint that provides comprehensive access to Projects as well as exposes basic operations that can be done in context of a Projects"}],"paths":{"/rest-api/v1/projects/{projectId}":{"get":{"tags":["Projects Endpoint"],"summary":"Retrieve project information with members","description":"Returns complete information about project including its allocations and its members.","operationId":"get","parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectWithUsers"}}}},"404":{"description":"Project not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectWithUsers"}}}}},"security":[{"FURMS API token":[]}]},"put":{"tags":["Projects Endpoint"],"summary":"Update project","description":"Update particular project.","operationId":"update","parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Project"}}}},"404":{"description":"Project not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Project"}}}}},"security":[{"FURMS API token":[]}]},"delete":{"tags":["Projects Endpoint"],"summary":"Delete project","description":"Removes project from community.","operationId":"delete","parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation"},"404":{"description":"Project not found"},"403":{"description":"Permission denied"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/communities/{communityId}/groups/{groupId}":{"get":{"tags":["Communities Endpoint"],"summary":"Get group with members","description":"Returns complete information about a group, including membership information.","operationId":"getGroup","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}},{"name":"groupId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupWithMembers"}}}},"404":{"description":"Community or group not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupWithMembers"}}}}},"security":[{"FURMS API token":[]}]},"put":{"tags":["Communities Endpoint"],"summary":"Update group","description":"Update mutable elements of a group.","operationId":"updateGroup","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}},{"name":"groupId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupDefinitionRequest"}}},"required":true},"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Group"}}}},"404":{"description":"Community or group not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Group"}}}}},"security":[{"FURMS API token":[]}]},"delete":{"tags":["Communities Endpoint"],"summary":"Delete group","description":"Removes a group from a community.","operationId":"deleteGroup","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}},{"name":"groupId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation"},"404":{"description":"Community or group not found"},"403":{"description":"Permission denied"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/protocolMessages/{messageId}":{"post":{"tags":["Site Endpoint"],"summary":"Retry site request","description":"Retry sending a request to a site agent.","operationId":"retryProtocolMessage","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation"},"404":{"description":"Site or message not found"},"403":{"description":"Permission denied"}},"security":[{"FURMS API token":[]}]},"delete":{"tags":["Site Endpoint"],"summary":"Drop pending request","description":"Removes a pending protocol request. It won't be possible to retry the removed request, FURMS will assume it has timed out.","operationId":"dropProtocolMessage","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation"},"403":{"description":"Permission denied"},"404":{"description":"Site or request not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/policies/{policyId}/acceptance/{fenixUserId}":{"post":{"tags":["Site Endpoint"],"summary":"Accept sites policy on behalf of user","description":"Performs operation of accepting the policy on behalf of given user.","operationId":"addPolicyAcceptance","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"policyId","in":"path","required":true,"schema":{"type":"string"}},{"name":"fenixUserId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PolicyAcceptance"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PolicyAcceptance"}}}}},"404":{"description":"Site, policy or user not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/projects":{"get":{"tags":["Projects Endpoint"],"summary":"Retrieve all projects","description":"Returns complete information about all projects including its allocations","operationId":"getAll","responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Project"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Project"}}}}}},"security":[{"FURMS API token":[]}]},"post":{"tags":["Projects Endpoint"],"summary":"Add project","description":"Creates project under particular community.","operationId":"add","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Project"}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Project"}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/projects/{projectId}/allocations":{"get":{"tags":["Projects Endpoint"],"summary":"Retrieve all allocations","description":"Retrieve all project's allocations information","operationId":"getAllocations_1","parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}},"404":{"description":"Project not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}}},"security":[{"FURMS API token":[]}]},"post":{"tags":["Projects Endpoint"],"summary":"Create allocation","description":"Allocate resources to a project.","operationId":"addAllocation","parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectAllocationAddRequest"}}},"required":true},"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}},"404":{"description":"Project not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/communities/{communityId}/groups":{"get":{"tags":["Communities Endpoint"],"summary":"Retrieve all groups","description":"Returns information about all groups in a community.","operationId":"getGroups","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Group"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Group"}}}}},"404":{"description":"Community not found"}},"security":[{"FURMS API token":[]}]},"post":{"tags":["Communities Endpoint"],"summary":"Add group","description":"Creates a new group in a community.","operationId":"addGroup","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupDefinitionRequest"}}},"required":true},"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Group"}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Group"}}}},"404":{"description":"Community not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/communities/{communityId}/allocations":{"get":{"tags":["Communities Endpoint"],"summary":"Retrieve all allocations","description":"Retrieve all allocations of a community.","operationId":"getAllocations_2","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunityAllocation"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunityAllocation"}}}}},"404":{"description":"Community not found"}},"security":[{"FURMS API token":[]}]},"post":{"tags":["Communities Endpoint"],"summary":"Create allocation","description":"Create a new allocation for a community.","operationId":"addAllocation_1","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunityAllocationAddRequest"}}},"required":true},"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunityAllocation"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommunityAllocation"}}}}},"404":{"description":"Community not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/cidp/user/{fenixUserId}/status":{"get":{"tags":["Central IdP Endpoint"],"summary":"Get user status","operationId":"getUserStatus","parameters":[{"name":"fenixUserId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatusHolder"}}}},"404":{"description":"User not found"}},"security":[{"CIdP token":[]}]},"post":{"tags":["Central IdP Endpoint"],"summary":"Set user status","operationId":"setUserStatus","parameters":[{"name":"fenixUserId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatusHolder"}}},"required":true},"responses":{"200":{"description":"Successful operation"},"404":{"description":"User not found"}},"security":[{"CIdP token":[]}]}},"/rest-api/v1/sites":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve all sites","description":"Returns complete information about all sites including their allocations, resource types, services and policies.","operationId":"getSites","responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Site"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Site"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve particular site information","description":"Returns complete information about a site, including its all allocations, resource types, services and policies","operationId":"getSite","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Site"}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Site"}}}},"404":{"description":"Site not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/users":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve all users that should have access to a site","description":"Returns list of users that have access to the site through at least one of their projects. SSH key of each user is provided as well.","operationId":"getSiteUsers","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SiteUser"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SiteUser"}}}}},"404":{"description":"Site not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/users/{userId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve site user","description":"Returns a specified user by Fenix id, assuming that this user has access to the site.","operationId":"getSiteUsers_1","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"userId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SiteUser"}}}},"404":{"description":"Site not found or user not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SiteUser"}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/usageRecords/{projectId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve project resource usage records","description":"Retrieve individual resoruce usage records, stored by FURMS for a given project on a site. Records have per-user granularity. Caller can limit time range of records.","operationId":"getProjectResourceUsageRecords","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}},{"name":"from","in":"query","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"until","in":"query","required":false,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectUsageRecord"}}}}},"404":{"description":"Site or project not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectUsageRecord"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/siteAllocations":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve site allocated resources to projects","description":"Retrieve all project allocations at the site as assigned by the site","operationId":"getSiteAllocatedResources","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SiteAllocatedResources"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SiteAllocatedResources"}}}}},"404":{"description":"Site not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/siteAllocations/{projectId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve site allocated resources to a project","description":"Retrieve given project allocations at the site as assigned by the site","operationId":"getSiteAllocatedProjectResources","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SiteAllocatedResources"}}}}},"404":{"description":"Site or project not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SiteAllocatedResources"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/services":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve all services","operationId":"getServices","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InfraService"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InfraService"}}}}},"404":{"description":"Site not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/services/{serviceId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve a given site service","operationId":"getService","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"serviceId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InfraService"}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InfraService"}}}},"404":{"description":"Site or service not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/resourceTypes":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve all resource types","operationId":"getResourceTypes","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceType"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceType"}}}}},"404":{"description":"Site not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/resourceTypes/{resourceTypeId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve a given resource type","operationId":"getResourceType","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"resourceTypeId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceType"}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceType"}}}},"404":{"description":"Site or resource type not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/protocolMessages":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve pending requests","description":"Returns all pending site's requests, which were sent to the site agent.","operationId":"getProtocolMessages","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProtocolMessage"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProtocolMessage"}}}}},"404":{"description":"Site not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/projectInstallations":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve project installations","description":"Returns list of projects that should be installed on the site with details of installation status","operationId":"getInstalledProjects","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectInstallation"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectInstallation"}}}}},"404":{"description":"Site not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/policyAcceptances":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve site policies acceptance","description":"Returns list of all site's users with policies and status whether given policy is accepcted or not.","operationId":"getPoliciesAcceptance","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PolicyAcceptance"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PolicyAcceptance"}}}}},"404":{"description":"Site not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/policies":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve site policies","operationId":"getPolicies","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Policy"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Policy"}}}}},"404":{"description":"Site not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/policies/{policyId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve a given site policy","operationId":"getPolicy","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"policyId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Policy"}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Policy"}}}},"404":{"description":"Site or policy not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/furmsAllocations":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve all FURMS allocations at the site","description":"Retrieve all project allocations at the site as assigned in FURMS","operationId":"getAllocations","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}},"404":{"description":"Site not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/furmsAllocations/{projectId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve FURMS allocations at the site of a project","description":"Retrieve given project allocations at the site as assigned in FURMS","operationId":"getProjectAllocations","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}},"404":{"description":"Site or project not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectAllocation"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/cumulativeResourcesConsumption/{projectId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve cumulative project resource consumption","description":"Retrieve cumultaive resoruce consumption recorded by FURMS for a given project on a site.","operationId":"getProjectCumulativeResourceConsumption","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectCumulativeResourceConsumption"}}}}},"404":{"description":"Site or project not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectCumulativeResourceConsumption"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/credits":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve credits","description":"Retrieve all resource credits of a site.","operationId":"getResourceCredits","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceCredit"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResourceCredit"}}}}},"404":{"description":"Site not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/credits/{creditId}":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve resource credit","description":"Retrieve details of a given resource credit.","operationId":"getResourceCredit","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}},{"name":"creditId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceCredit"}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceCredit"}}}},"404":{"description":"Site or allocation not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/sites/{siteId}/availability":{"get":{"tags":["Site Endpoint"],"summary":"Retrieve particular site availability","description":"Returns availability status (AVAILABLE or UNAVAILABLE)","operationId":"getSiteAvailability","parameters":[{"name":"siteId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SiteAvailability"}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SiteAvailability"}}}},"404":{"description":"Site not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/projects/{projectId}/allocations/{projectAllocationId}":{"get":{"tags":["Projects Endpoint"],"summary":"Retrieve allocation information","description":"Retrieve project's allocation information","operationId":"getAllocation","parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string"}},{"name":"projectAllocationId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectAllocation"}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectAllocation"}}}},"404":{"description":"Project or allocation not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/communities":{"get":{"tags":["Communities Endpoint"],"summary":"Retrieve all communities","description":"Returns complete information about all communities including its allocations","operationId":"getCommunities","responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Community"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Community"}}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/communities/{communityId}":{"get":{"tags":["Communities Endpoint"],"summary":"Retrieve particular community","description":"Returns complete information about community including its allocations","operationId":"getCommunity","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Community"}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Community"}}}},"404":{"description":"Community not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/communities/{communityId}/projects":{"get":{"tags":["Communities Endpoint"],"summary":"Get all community projects","description":"Returns complete information about projects related to specific community.","operationId":"getCommunityProjects","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Project"}}}}},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Project"}}}}},"404":{"description":"Community not found"}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/communities/{communityId}/allocations/{communityAllocationId}":{"get":{"tags":["Communities Endpoint"],"summary":"Retrieve allocation","description":"Retrieve a particular allocation of a community.","operationId":"getAllocation_1","parameters":[{"name":"communityId","in":"path","required":true,"schema":{"type":"string"}},{"name":"communityAllocationId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunityAllocation"}}}},"404":{"description":"Community or allocation not found"},"403":{"description":"Permission denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommunityAllocation"}}}}},"security":[{"FURMS API token":[]}]}},"/rest-api/v1/cidp/user/{fenixUserId}":{"get":{"tags":["Central IdP Endpoint"],"summary":"Retrieve user attributes","description":"Returns a complete information about a given user, including project membership and global attributes.","operationId":"getUserRecord","parameters":[{"name":"fenixUserId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRecordJson"}}}},"404":{"description":"User not found"}},"security":[{"CIdP token":[]}]}},"/rest-api/v1/cidp/user/{fenixUserId}/site/{oauthClientId}":{"get":{"tags":["Central IdP Endpoint"],"summary":"Retrieve user attributes on specific site","description":"Returns a complete information about a given user for specific site, including project membership and global attributes.","operationId":"getUserRecordBySiteId","parameters":[{"name":"fenixUserId","in":"path","required":true,"schema":{"type":"string"}},{"name":"oauthClientId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Successful operation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRecordJson"}}}},"404":{"description":"User or site not found"}},"security":[{"CIdP token":[]}]}}},"components":{"schemas":{"ProjectUpdateRequest":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"validity":{"$ref":"#/components/schemas/Validity"},"researchField":{"type":"string"},"projectLeaderId":{"type":"string"}}},"Validity":{"type":"object","properties":{"from":{"type":"string","format":"date-time"},"to":{"type":"string","format":"date-time"}}},"Affiliation":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"country":{"type":"string"},"postalAddress":{"type":"string"}}},"Project":{"type":"object","properties":{"id":{"type":"string"},"acronym":{"type":"string"},"name":{"type":"string"},"communityId":{"type":"string"},"researchField":{"type":"string"},"installations":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/ProjectSiteInstallation"}},"description":{"type":"string"},"validity":{"$ref":"#/components/schemas/Validity"},"projectLeader":{"$ref":"#/components/schemas/User"}}},"ProjectSiteInstallation":{"type":"object","properties":{"siteId":{"type":"string"},"gid":{"type":"string"}}},"User":{"type":"object","properties":{"fenixIdentifier":{"type":"string"},"title":{"type":"string"},"firstname":{"type":"string"},"lastname":{"type":"string"},"email":{"type":"string"},"affiliation":{"$ref":"#/components/schemas/Affiliation"},"nationality":{"type":"string"},"phone":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"placeOfBirth":{"type":"string"},"postalAddress":{"type":"string"}}},"GroupDefinitionRequest":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}}},"Group":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"}}},"PolicyAcceptance":{"type":"object","properties":{"fenixUserId":{"type":"string"},"policyId":{"type":"string"},"acceptanceStatus":{"type":"string","enum":["ACCEPTED","NOT_ACCEPTED","ACCEPTED_FORMER_REVISION"]},"processedOn":{"type":"string","format":"date-time"},"currentPolicyRevision":{"type":"integer","format":"int32"},"acceptedRevision":{"type":"integer","format":"int32"}}},"ProjectCreateRequest":{"type":"object","properties":{"communityId":{"type":"string"},"acronym":{"type":"string"},"gid":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"validity":{"$ref":"#/components/schemas/Validity"},"researchField":{"type":"string"},"projectLeaderId":{"type":"string"}}},"ProjectAllocationAddRequest":{"type":"object","properties":{"communityAllocationId":{"type":"string"},"communityId":{"type":"string"},"name":{"type":"string"},"resourceTypeId":{"type":"string"},"amount":{"type":"number"}}},"ProjectAllocation":{"type":"object","properties":{"id":{"type":"string"},"projectId":{"type":"string"},"communityAllocationId":{"type":"string"},"name":{"type":"string"},"resourceTypeId":{"type":"string"},"resourceUnit":{"type":"string"},"siteId":{"type":"string"},"siteName":{"type":"string"},"serviceId":{"type":"string"},"serviceName":{"type":"string"},"amount":{"type":"number"},"validity":{"$ref":"#/components/schemas/Validity"}}},"CommunityAllocationAddRequest":{"type":"object","properties":{"creditId":{"type":"string"},"name":{"type":"string"},"amount":{"type":"number"}}},"CommunityAllocation":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"creditId":{"type":"string"},"resourceUnit":{"type":"string"},"siteId":{"type":"string"},"siteName":{"type":"string"},"serviceId":{"type":"string"},"serviceName":{"type":"string"},"amount":{"type":"number"}}},"UserStatusHolder":{"type":"object","properties":{"status":{"type":"string","enum":["ENABLED","DISABLED"]}}},"InfraService":{"type":"object","properties":{"serviceId":{"type":"string"},"name":{"type":"string"},"policyId":{"type":"string"}}},"Policy":{"type":"object","properties":{"policyId":{"type":"string"},"name":{"type":"string"},"revision":{"type":"integer","format":"int32"}}},"ResourceAmount":{"type":"object","properties":{"amount":{"type":"number"},"unit":{"type":"string"}}},"ResourceCredit":{"type":"object","properties":{"creditId":{"type":"string"},"name":{"type":"string"},"validity":{"$ref":"#/components/schemas/Validity"},"resourceTypeId":{"type":"string"},"amount":{"$ref":"#/components/schemas/ResourceAmount"}}},"ResourceType":{"type":"object","properties":{"typeId":{"type":"string"},"name":{"type":"string"},"serviceId":{"type":"string"}}},"Site":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"sitePolicyId":{"type":"string"},"resourceCredits":{"type":"array","items":{"$ref":"#/components/schemas/ResourceCredit"}},"resourceTypes":{"type":"array","items":{"$ref":"#/components/schemas/ResourceType"}},"services":{"type":"array","items":{"$ref":"#/components/schemas/InfraService"}},"policies":{"type":"array","items":{"$ref":"#/components/schemas/Policy"}}}},"SiteUser":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"},"uid":{"type":"string"},"sshKeys":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"projectIds":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"ProjectUsageRecord":{"type":"object","properties":{"projectAllocationId":{"type":"string"},"resourceTypeId":{"type":"string"},"siteId":{"type":"string"},"consumedAmount":{"type":"number"},"userFenixId":{"type":"string"},"from":{"type":"string","format":"date-time"},"until":{"type":"string","format":"date-time"}}},"SiteAllocatedResources":{"type":"object","properties":{"allocationId":{"type":"string"},"siteId":{"type":"string"},"projectId":{"type":"string"},"amount":{"type":"number"},"validity":{"$ref":"#/components/schemas/Validity"}}},"ProtocolMessage":{"type":"object","properties":{"id":{"type":"string"},"jsonContent":{"type":"string"},"status":{"type":"string","enum":["SENT","ACKNOWLEDGED"]},"sentOn":{"type":"string","format":"date-time"},"ackOn":{"type":"string","format":"date-time"},"retryCount":{"type":"integer","format":"int32"}}},"ProjectInstallation":{"type":"object","properties":{"project":{"$ref":"#/components/schemas/Project"},"installationStatus":{"type":"string","enum":["PENDING","ACKNOWLEDGED","INSTALLED","FAILED"]},"gid":{"type":"string"}}},"ProjectCumulativeResourceConsumption":{"type":"object","properties":{"projectAllocationId":{"type":"string"},"siteId":{"type":"string"},"resourceTypeId":{"type":"string"},"consumedAmount":{"type":"number"},"consumedUntil":{"type":"string","format":"date-time"}}},"SiteAvailability":{"type":"object","properties":{"status":{"type":"string","enum":["AVAILABLE","UNAVAILABLE"]}}},"ProjectWithUsers":{"type":"object","properties":{"project":{"$ref":"#/components/schemas/Project"},"userFenixUserIds":{"type":"array","items":{"type":"string"}}}},"Community":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"allocations":{"type":"array","items":{"type":"string"}}}},"GroupWithMembers":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"memberFenixUserIds":{"type":"array","items":{"type":"string"}}}},"GroupAccessJson":{"type":"object","properties":{"communityId":{"type":"string"},"groups":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"PolicyAcceptanceJson":{"type":"object","properties":{"policyId":{"type":"string"},"acceptanceStatus":{"type":"string","enum":["ACCEPTED","NOT_ACCEPTED"]},"processedOn":{"type":"string","format":"date-time"},"currentVersion":{"type":"integer","format":"int32"},"processedVersion":{"type":"integer","format":"int32"}}},"ProjectMembershipOnSiteJson":{"type":"object","properties":{"localUserId":{"type":"string"},"projectId":{"type":"string"}}},"SiteUserJson":{"type":"object","properties":{"siteId":{"type":"string"},"siteOauthClientId":{"type":"string"},"projectMemberships":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/ProjectMembershipOnSiteJson"}},"sitePolicyAcceptance":{"$ref":"#/components/schemas/PolicyAcceptanceJson"},"servicesPolicyAcceptance":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/PolicyAcceptanceJson"}},"sshKeys":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"UserRecordJson":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/User"},"userStatus":{"type":"string","enum":["ENABLED","DISABLED"]},"siteAccess":{"type":"array","items":{"$ref":"#/components/schemas/SiteUserJson"}},"groupAccess":{"type":"array","items":{"$ref":"#/components/schemas/GroupAccessJson"}}}}},"securitySchemes":{"CIdP token":{"type":"http","description":"Pre-shared secret between Fenix central IdP and FURMS shall be used for authentication and authorization of each request with HTTP Basic encoding in HTTP header","scheme":"BASIC"},"FURMS API token":{"type":"http","description":"Pre-shared token generated by FURMS shall be used for authentication and authorization of each request, together with owner's user id presented next to the generated token.","scheme":"BASIC"}}}}