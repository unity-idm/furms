<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>FURMS user manual</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>FURMS user manual</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#sign-in-and-sign-up">Sign in and sign up</a>
<ul class="sectlevel2">
<li><a href="#initial-onboarding">Initial onboarding</a></li>
</ul>
</li>
<li><a href="#fenix-federation-management">Fenix federation management</a>
<ul class="sectlevel2">
<li><a href="#managing-sites">Managing sites</a></li>
<li><a href="#managing-communities">Managing communities</a></li>
<li><a href="#managing-fenix-administrators">Managing Fenix administrators</a></li>
<li><a href="#distributing-resources-to-communities">Distributing resources to communities</a></li>
<li><a href="#resource-usage">Resource usage</a></li>
<li><a href="#audit-log">Audit log</a></li>
<li><a href="#rest-api-access-credentials">REST API access credentials</a></li>
</ul>
</li>
<li><a href="#site-management">Site management</a>
<ul class="sectlevel2">
<li><a href="#site-settings">Site settings</a></li>
<li><a href="#policy-documents">Policy documents</a></li>
<li><a href="#services">Services</a></li>
<li><a href="#resource-types">Resource types</a></li>
<li><a href="#resource-credits">Resource credits</a></li>
<li><a href="#site-agent-connection-and-requests">Site agent connection and requests</a></li>
<li><a href="#managing-site-admins">Managing site administrators</a></li>
<li><a href="#rest-api-access-credentials-2">REST API access credentials</a></li>
</ul>
</li>
<li><a href="#community-management">Community management</a>
<ul class="sectlevel2">
<li><a href="#managing-projects">Managing projects</a></li>
<li><a href="#managing-community-administrators">Managing community administrators</a></li>
<li><a href="#managing-community-metadata">Managing community metadata</a></li>
<li><a href="#distributing-resources-to-projects">Distributing resources to projects</a></li>
<li><a href="#resource-usage-2">Resource usage</a></li>
<li><a href="#managing-groups">Managing groups</a></li>
<li><a href="#rest-api-access-credentials-3">REST API access credentials</a></li>
</ul>
</li>
<li><a href="#project-management">Project management</a>
<ul class="sectlevel2">
<li><a href="#managing-users">Managing users</a></li>
<li><a href="#project-settings">Project settings</a></li>
<li><a href="#resource-access">Resource access</a></li>
<li><a href="#resource-allocations">Resource allocations</a></li>
<li><a href="#defining-alarms">Defining alarms</a></li>
<li><a href="#managing-project-administrators">Managing project administrators</a></li>
<li><a href="#rest-api-access-credentials-4">REST API access credentials</a></li>
</ul>
</li>
<li><a href="#furms-command-line-interface-cli">FURMS Command Line Interface (CLI)</a>
<ul class="sectlevel2">
<li><a href="#downloading">Downloading</a></li>
<li><a href="#configuring-the-cli">Configuring the CLI</a></li>
<li><a href="#using-the-client">Using the client</a></li>
<li><a href="#format-of-selected-inputs">Format of selected inputs</a></li>
<li><a href="#diagnostic-messages">Diagnostic messages</a></li>
</ul>
</li>
<li><a href="#end-user-support">End User support</a>
<ul class="sectlevel2">
<li><a href="#sites">Sites</a></li>
<li><a href="#projects">Projects</a></li>
<li><a href="#ssh-keys-management">SSH keys management</a></li>
<li><a href="#policy-documents-2">Policy documents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="./images/logo-fenix.png" alt="logo fenix">
</div>
</div>
<div class="paragraph">
<p>Fenix User and Resource Management Service (FURMS for short) is a central system responsible for the authorization of access and resource management across multiple research infrastructures.</p>
</div>
<div class="paragraph">
<p>FURMS is organized around three main concepts: sites, communities and projects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Site</em> represents a service provider. Site administrator defines resources offered by the site.</p>
</li>
<li>
<p><em>Community</em> is an umbrella over a set of related research projects. Human Brain Project can be considered as an example of FURMS community.</p>
</li>
<li>
<p><em>Project</em>, defined under a community, groups users who are working together. Project, and its members are consuming resources which are contributed by sites.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>FURMS organizes the process of resources distribution offered by sites to communities and subsequently to individual projects. What is more FURMS aggregates and presents resource usage metrics.</p>
</div>
<div class="paragraph">
<p>Resource allocation process works as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Site administrator defines a resource.</p>
</li>
<li>
<p>Site administrator creates one or more <em>resource credits</em> which define an amount of contributed resource usage units.</p>
</li>
<li>
<p>Fenix administrator can see unallocated resource credits and assign them to communities. In majority of cases a single resource credit can be split across multiple communities.</p>
</li>
<li>
<p>Community administrator can in turn distribute community resource credits to projects in the community.</p>
</li>
<li>
<p>Project administrator can control which project users have access to individual resources which were granted to the project.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>FURMS has dedicated UI modes for each type of its user. User who has only a single role in the system will simply see the only view matching her or his role. Users with multiple roles can switch the view mode with a dropdown situated in the top right corner of the screen.</p>
</div>
<div class="paragraph">
<p>In order to authenticate to FURMS user has to contain an account which is available for the Fenix Central Identity Provider.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sign-in-and-sign-up"><a class="anchor" href="#sign-in-and-sign-up"></a>Sign in and sign up</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Regular user sign in is handled via the Fenix Central IdP. After entering the FURMS public address (as configured during installation) user is redirected to the Central IdP and has to authenticate using his/her home identity provider.</p>
</div>
<div class="paragraph">
<p>Each user who can authenticate using Fenix Central IdP can access FURMS. Initially only access to User Settings view is granted, without access to any of the projects. Access to a project can be requested by such user and afterwards needs to be accepted by the project&#8217;s administrator.</p>
</div>
<div class="paragraph">
<p>Alternatively FURMS supports inviting of users. All invited users need to have Fenix identity. It is possible to invite a user on each administration level, starting from Fenix and ending on Project level. User is always invited to a specific role, e.g. site administrator can invite a user to become additional site administrator or to have site-support role. Invited user has to accept the invitation, what is equivalent to becoming FURMS user.</p>
</div>
<div class="sect2">
<h3 id="initial-onboarding"><a class="anchor" href="#initial-onboarding"></a>Initial onboarding</h3>
<div class="paragraph">
<p>Since initially every user authenticated with the Central IdP has no administrative privileges, the initial setup of the system has to be performed in special way.</p>
</div>
<div class="paragraph">
<p>During FURMS installation a <strong>local</strong> user account is created with a configured user name and password. The created user is granted Fenix administrator privileges as well as Unity administrative privileges. To sign in as a local user, a special URL parameter needs to be added when entering FURMS Web UI, as follows:</p>
</div>
<div class="paragraph">
<p>https://FURMS-PUBLIC-HOST/<strong>?showSignInOptions</strong></p>
</div>
<div class="paragraph">
<p>Entering FURMS web interface with the <code>showSignInOptions</code> parameter prevents FURMS to trigger automatic authentication with the Central IdP. Instead user can choose to authenticate locally. This authentication method must be used at least once to initially configure the system, and can be used at will later on.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fenix-federation-management"><a class="anchor" href="#fenix-federation-management"></a>Fenix federation management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Fenix administrator is responsible for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>creating sites,</p>
</li>
<li>
<p>creating communities,</p>
</li>
<li>
<p>distributing site provided resource credits to communities.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="managing-sites"><a class="anchor" href="#managing-sites"></a>Managing sites</h3>
<div class="paragraph">
<p>Fenix admin can create sites providing only the basic information: site name. Additional site attributes are supposed to be setup by the site admin.</p>
</div>
<div class="paragraph">
<p>After creating a site, Fenix admin should provide at least a single administrator for the site. The appropriate view can be activated from the site&#8217;s context menu "Administrators". From there the Fenix admin can freely add and remove site administrators.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Site administrators can also themselves manage administrators of their site, so the Fenix admin is not the only person controlling the set of administrators. However, setting the initial site admin must be always performed by the Fenix admin.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A new administrator can be invited either by selecting one of existing FURMS users or by providing an email address. In the latter case the invited person must have a Fenix infrastructure account. The invited user needs to accept the invitation to a new role.</p>
</div>
</div>
<div class="sect2">
<h3 id="managing-communities"><a class="anchor" href="#managing-communities"></a>Managing communities</h3>
<div class="paragraph">
<p>Fenix admin can create communities providing site name, description and logo. Community settings can be also changed subsequently by community admins and therefore only the name of a created community is mandatory.</p>
</div>
<div class="paragraph">
<p>After creating a community, Fenix admin should provide at least a single administrator for it. The appropriate view can be activated from the community&#8217;s context menu "Administrators". From there the Fenix admin can freely add and remove community administrators.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Community administrators can also themselves manage administrators of their community, so the Fenix admin is not the only person controlling the set of administrators. However, setting the initial community admin must be always performed by the Fenix admin.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A new administrator can be invited either by selecting one of existing FURMS users or by providing an email address. In the latter case the invited person must have a Fenix infrastructure account. The invited user needs to accept the invitation to a new role.</p>
</div>
</div>
<div class="sect2">
<h3 id="managing-fenix-administrators"><a class="anchor" href="#managing-fenix-administrators"></a>Managing Fenix administrators</h3>
<div class="paragraph">
<p>FURMS allows for having multiple users with the Fenix administrator role. Each Fenix admin can add (and remove) other administrators from the "Fenix administrators" view.</p>
</div>
<div class="paragraph">
<p>A new administrator can be invited either by selecting one of existing FURMS users or by providing an email address. In the latter case the invited person must have a Fenix infrastructure account. The invited user needs to accept the invitation to a new role.</p>
</div>
<div class="paragraph">
<p>Note that removing the last administrator is not allowed.</p>
</div>
</div>
<div class="sect2">
<h3 id="distributing-resources-to-communities"><a class="anchor" href="#distributing-resources-to-communities"></a>Distributing resources to communities</h3>
<div class="paragraph">
<p>Distribution of resource credits provided by sites can be performed from two parts of the FURMS user interface.</p>
</div>
<div class="paragraph">
<p>The typical way to distribute credits starts at the Fenix administrator dashboard. Dashboard shows all resource credits. By default only the not-fully distributed and valid credits are shown, though it is possible to show also all excluded ones. Fenix admin can use the (+) button on each credit to create an allocation from it. When creating allocation this way, the target community has to be selected.</p>
</div>
<div class="paragraph">
<p>The other way to create allocations from credits is to start from a target community, in the Communities view. After selecting a community and navigating to its <em>Allocations</em> tab, Fenix administrator can create an allocation for that community. When creating allocation this way, the resource credit needs to be selected. Interface allows for using multiple level of filters to easily find the desired credit.</p>
</div>
</div>
<div class="sect2">
<h3 id="resource-usage"><a class="anchor" href="#resource-usage"></a>Resource usage</h3>
<div class="paragraph">
<p>Fenix administrators can see the details of resource usage per each community resource allocation.</p>
</div>
<div class="paragraph">
<p>High level overview of the resource consumption is presented in allocations table itself as a small progress bar-like widget. More detailed information is available after navigating to the charts view, from allocation row menu.</p>
</div>
<div class="paragraph">
<p>Chart is showing the resource usage reported by a site under the given allocation.</p>
</div>
<div class="paragraph">
<p>If the visual representation is not detailed enough, it is possible to export raw information on all recorded consumption records. FURMS can export the data either to a CSV or JSON files, with a self-explanatory syntax.</p>
</div>
</div>
<div class="sect2">
<h3 id="audit-log"><a class="anchor" href="#audit-log"></a>Audit log</h3>
<div class="paragraph">
<p>FURMS records all important changes of state in journal, called audit log. Fenix administrator can access this journal from the "Audit Log" main menu entry.</p>
</div>
<div class="paragraph">
<p>Audit log provides a range of filters allowing to narrow down presented set of log records. It is possible to filter by time, user (who triggered an operation), type of operation, specific action and finally perform a free-text search.</p>
</div>
<div class="paragraph">
<p>Some of the presented records can be expanded to inspect an additional,  operation specific information. For instance in case of <code>PROJECT_ALLOCATION</code> record with <code>Create</code> action, it is possible to check identifiers of the created allocation, project and community allocation basing on which the project allocation was created. Amount and name of the allocation are also provided.</p>
</div>
</div>
<div class="sect2">
<h3 id="rest-api-access-credentials"><a class="anchor" href="#rest-api-access-credentials"></a>REST API access credentials</h3>
<div class="paragraph">
<p>To access FURMS REST API, administrator has to generate an API key  (secret token) and use it together with its user identifier when authenticating against <a href="./openapi-static.html">FURMS REST API</a> endpoints.</p>
</div>
<div class="paragraph">
<p>The token can be generated in User Settings &#8594; API Key. The view also provides information about the fixed user identifier as well an option to revoke a previously generated token.</p>
</div>
<div class="paragraph">
<p>The user identifier and API key should be used with the HTTP Basic authorization scheme when accessing the REST API. For example using cURL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>curl [other params] -u USER_ID:API_KEY &lt;FURMS_ENDPOINT_URL&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the generated key is bound to a user, so a user who has multiple roles (e.g. admin of a site and a project) should use the same token, regardless of the role. The generated credential is authorized to perform the same operations as its owner.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="site-management"><a class="anchor" href="#site-management"></a>Site management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FURMS site acts a resource provider. Site defines resources (which are always site specific in FURMS), and advertises amounts of those resources available to the Fenix infrastructure.</p>
</div>
<div class="paragraph">
<p>Additionally site can define policy documents which are need to be accepted in order to access the site or its resources.</p>
</div>
<div class="sect2">
<h3 id="site-settings"><a class="anchor" href="#site-settings"></a>Site settings</h3>
<div class="paragraph">
<p>Under site settings menu entry, site administrator can provide details about the site. It is advised to fill up the form, as initially site definition consists of a minimal set of attributes (like name) only.</p>
</div>
<div class="paragraph">
<p>Site administrator may set a requirement on SSH keys installed by FURMS, to always include the 'from' option (specifying allowed client addresses for the key). If this option is set after some keys without the 'from' option were already installed, FURMS will not auto-remove the offending keys. However, user will be forced to either remove the key from the site or to add the 'from' option upon the next editing of the key.</p>
</div>
<div class="paragraph">
<p>What is more site administrator can require users not to reuse previously used SSH keys.</p>
</div>
<div class="paragraph">
<p>Site can have a policy document set. Accepting site policy is a prerequisite for any user, to be added to the site. Any policy defined for the site can be selected as a site-wide policy.</p>
</div>
</div>
<div class="sect2">
<h3 id="policy-documents"><a class="anchor" href="#policy-documents"></a>Policy documents</h3>
<div class="paragraph">
<p>Site can define multiple policy documents. A policy document can be used in two places: as a site-wide policy or as a service-specific policy. Policy documents can be provided either as an uploaded PDF file, or can be embedded inside FURMS using rich text editor.</p>
</div>
<div class="paragraph">
<p>Policy documents are defined in a single place (Policy Documents menu entry). Assigning policy document to a service is available in serivice&#8217;s edit view, while selection of a site-wide policy can be performed in site&#8217;s settings view.</p>
</div>
<div class="paragraph">
<p>FURMS supports two types of policy document workflows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>web based</code> policies are electronically processed documents, i.e. users can accept them on-line, from the FURMS app.</p>
</li>
<li>
<p><code>paper</code> policies need to be printed and physically delivered to site authorities.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Users are asked to check the policy whenever they get access to a resource, which is either on a new site or a new service, for which the policy is defined and was not accepted yet. Regardless of the policy type, user can always read &amp; download its text. In the case of the web policies, direct acceptance is possible by the user. Contrary, the fact that the hand-signed paper policy document was received, must be recorded by site administrator or site support (see <a href="#managing-site-admins">Managing site administrators</a>). This functionality is available after entering into details of users policy acceptance status, in the Policy Documents view.</p>
</div>
<div class="paragraph">
<p>Policy documents can be updated after creation. Update can be done in two ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>As a <code>silent</code> update, useful for correcting typos and formatting. In such a case, users who previously accepted the policy won&#8217;t be notified in any way.</p>
</li>
<li>
<p>As an <code>official</code> update. Official update triggers requests to users who previously accepted the policy, to review and accept the updated version. Official update is also tracked with a policy <code>revision number</code>, which is incremented each time the policy is officially updated.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="services"><a class="anchor" href="#services"></a>Services</h3>
<div class="paragraph">
<p>Services are used in FURMS to represent different offerings of a single site. The most important aspect of service is that it can have its own access policy agreement defined. Also each service creates a namespace for its resources.</p>
</div>
<div class="paragraph">
<p>Computing cluster, data store system or an OpenStack VM service can be examples of services.</p>
</div>
<div class="paragraph">
<p>Service can have its own policy document. Any of the policy documents defined for the site can be selected.</p>
</div>
</div>
<div class="sect2">
<h3 id="resource-types"><a class="anchor" href="#resource-types"></a>Resource types</h3>
<div class="paragraph">
<p>Resource type represents resource which have <em>independent allocations</em> and has its usage accounted separately.</p>
</div>
<div class="paragraph">
<p>Administrator has to decide type and a dependent unit of the resource type. Type defines generic treatment of resource and available units. FURMS supports two generic types <em>integer</em> and <em>floating point</em> as well as two more specific types: <em>time</em> and <em>data</em>.</p>
</div>
<div class="paragraph">
<p>Units are different for each type. Note that FURMS does not scale the amounts of a given resource type, always the selected Unit is used.</p>
</div>
</div>
<div class="sect2">
<h3 id="resource-credits"><a class="anchor" href="#resource-credits"></a>Resource credits</h3>
<div class="paragraph">
<p>Resource credits are used to express sites offering to the FURMS managed infrastructure. Credit is an offer of a particular amount of a given resource in a defined timeframe. Credits are further distributed by Fenix administrators to communities and eventually to projects.</p>
</div>
<div class="paragraph">
<p>Each credit is always based on a single resource type (and therefore is also bound to  a particular service).</p>
</div>
<div class="paragraph">
<p>Credit has its lifetime, expired credits can not be allocated to communities or projects, even if were not completely consumed.</p>
</div>
<div class="paragraph">
<p>Site can control whether credit can be allocated in multiple parts or just as a single one. In the later case it must be allocated to a single community and to a single project in this community.</p>
</div>
<div class="paragraph">
<p>Finally credits can be marked as <em>granted to all project members</em>. Allocation derived from credits created with this flag will not have separate access authorization: each project member will be able to use it, without any further actions.</p>
</div>
</div>
<div class="sect2">
<h3 id="site-agent-connection-and-requests"><a class="anchor" href="#site-agent-connection-and-requests"></a>Site agent connection and requests</h3>
<div class="paragraph">
<p>Site connection view allows site administrators to monitor and debug problems related to connection with site agent.</p>
</div>
<div class="paragraph">
<p>The module offers two functions. First of all it is possible to send a ping message (which is a part of the site agent protocol) to test whether the agent is up, running and answers the most basic request properly.</p>
</div>
<div class="paragraph">
<p>The other function of the module is to present all messages that are expected to have a response (or at least acknowledgment of request reception) and for which such response haven&#8217;t arrived yet.</p>
</div>
<div class="paragraph">
<p>For all the presented messages administrator can check the contents of the request&#8217;s body. It is also possible to retry (i.e. re-send) any message, and to delete it.</p>
</div>
<div class="paragraph">
<p>Deleting can be used to unblock some parts of UI, which are waiting for an operation to be finished, when it is certain that the requested operation will not be served by site agent (e.g. due to its crash or other bug).</p>
</div>
<div class="paragraph">
<p>Retry can be used in situation when site agent received the original request but haven&#8217;t processed it successfully (e.g. due to bug, retry can be used after the bug is fixed).</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Using any of delete or retry functions should be used as the last resort. FURMS handles such interruptions of the regular message flow on the best effort basis. Therefore both deleting and retrying of requests should be performed only when it is certain, that the site agent is not going to properly handle the original request. Otherwise inconsistency of data may occur. E.g. retry of a message which was (in the end) successfully handled by site agent may lead to execution of the operation two times. Similarly deletion of a request for which response will eventually arrive, can cause FURMS to ignore the change that actually happened on the site.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="managing-site-admins"><a class="anchor" href="#managing-site-admins"></a>Managing site administrators</h3>
<div class="paragraph">
<p>FURMS allows for multiple users with the site administrator role. Each site administrator can add (and remove) other administrators from the "Site administrators" view.</p>
</div>
<div class="paragraph">
<p>Additionally the view allows for adding users with the <code>site support</code> role. Such users will be able to access only the Policy Documents view and record the fact that a hand-signed paper policy document was received.</p>
</div>
<div class="paragraph">
<p>A new administrator can be invited by providing an email address of the invitation recipient. The invited person must possess a Fenix infrastructure account.</p>
</div>
<div class="paragraph">
<p>Note that removing the last administrator is not allowed.</p>
</div>
</div>
<div class="sect2">
<h3 id="rest-api-access-credentials-2"><a class="anchor" href="#rest-api-access-credentials-2"></a>REST API access credentials</h3>
<div class="paragraph">
<p>To access FURMS REST API, administrator has to generate an API key  (secret token) and use it together with its user identifier when authenticating against <a href="./openapi-static.html">FURMS REST API</a> endpoints.</p>
</div>
<div class="paragraph">
<p>The token can be generated in User Settings &#8594; API Key. The view also provides information about the fixed user identifier as well an option to revoke a previously generated token.</p>
</div>
<div class="paragraph">
<p>The user identifier and API key should be used with the HTTP Basic authorization scheme when accessing the REST API. For example using cURL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>curl [other params] -u USER_ID:API_KEY &lt;FURMS_ENDPOINT_URL&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the generated key is bound to a user, so a user who has multiple roles (e.g. admin of a site and a project) should use the same token, regardless of the role. The generated credential is authorized to perform the same operations as its owner.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="community-management"><a class="anchor" href="#community-management"></a>Community management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FURMS community groups closely related projects and organizes the process of allocating resources to them.</p>
</div>
<div class="sect2">
<h3 id="managing-projects"><a class="anchor" href="#managing-projects"></a>Managing projects</h3>
<div class="paragraph">
<p>Community administrator can create projects providing set of initial project settings. Selected project settings can be also changed subsequently by project administrators.</p>
</div>
<div class="paragraph">
<p>When creating a project, community administrator needs to setup project leader, who will also become the initial project administrator. Additional administrators can be also setup after activating the "Administrators" option from the project&#8217;s context menu.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Project administrators can also themselves manage administrators of their project, and so community administrator is not the only person controlling the set of administrators.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A new administrator can be invited either by selecting one of existing FURMS users or by providing an email address. In the latter case the invited person must have a Fenix infrastructure account. The invited user needs to accept the invitation to a new role.
Selection of existing users is limited to the users already belonging to the community.</p>
</div>
</div>
<div class="sect2">
<h3 id="managing-community-administrators"><a class="anchor" href="#managing-community-administrators"></a>Managing community administrators</h3>
<div class="paragraph">
<p>FURMS allows for having multiple users with the community administrator role. Each community administrator can add (and remove) other administrators from the "Community Administrators" view.</p>
</div>
<div class="paragraph">
<p>A new administrator can be invited either by selecting one of existing FURMS users or by providing an email address. In the latter case the invited person must have a Fenix infrastructure account. The invited user needs to accept the invitation to a new role.
Selection of existing users is limited to the users already belonging to the community.</p>
</div>
<div class="paragraph">
<p>Note that removing the last administrator is not allowed.</p>
</div>
</div>
<div class="sect2">
<h3 id="managing-community-metadata"><a class="anchor" href="#managing-community-metadata"></a>Managing community metadata</h3>
<div class="paragraph">
<p>Community name, description and logo can be modified at any time. It can be performed from the "Settings" view.</p>
</div>
</div>
<div class="sect2">
<h3 id="distributing-resources-to-projects"><a class="anchor" href="#distributing-resources-to-projects"></a>Distributing resources to projects</h3>
<div class="paragraph">
<p>Distribution of community resource allocations to projects can be performed in two different ways.</p>
</div>
<div class="paragraph">
<p>The typical path to distribute available resource allocations starts at the community administrator dashboard. Dashboard shows all resource allocations of the community. By default only the not-fully distributed and valid allocations are shown, though it is possible to show also the ones excluded by default. Community admin can use the (+) button on each community allocation to create a project allocation from it. When creating allocation this way, the target project has to be selected.</p>
</div>
<div class="paragraph">
<p>The other way to create project allocations is to start from a target project, in the Projects view. After selecting a project and navigating to its <em>Allocations</em> tab, community administrator can create an allocation for that project. When creating allocation this way, one of community allocations needs to be selected.</p>
</div>
</div>
<div class="sect2">
<h3 id="resource-usage-2"><a class="anchor" href="#resource-usage-2"></a>Resource usage</h3>
<div class="paragraph">
<p>Community administrators can see the details of resource usage per each project resource allocation.</p>
</div>
<div class="paragraph">
<p>High level overview of the resource consumption is presented in allocations table itself as a small progress bar-like widget. More detailed information is available after navigating to the charts view, from allocation row menu.</p>
</div>
<div class="paragraph">
<p>Chart is showing the resource usage reported by a site under the given allocation.</p>
</div>
<div class="paragraph">
<p>If the visual representation is not detailed enough, it is possible to export raw information on all recorded consumption records. FURMS can export the data either to a CSV or JSON files, with a self-explanatory syntax.</p>
</div>
</div>
<div class="sect2">
<h3 id="managing-groups"><a class="anchor" href="#managing-groups"></a>Managing groups</h3>
<div class="paragraph">
<p>FURMS allows community administrators to create groups and control membership of community users in the groups.</p>
</div>
<div class="paragraph">
<p>There are no limits on membership in groups, any community member can be a member of zero, one or many groups. The sole restriction is that only existing community users can be added to a group (i.e. users of any of the community projects and community admins). Adding and removing a user to a group does not require user&#8217;s consent.</p>
</div>
<div class="paragraph">
<p>Group membership is not changing the way how FURMS works in any way. It is, however, exposed on the REST APIs: both for the Fenix Central IdP and over Community REST API.</p>
</div>
</div>
<div class="sect2">
<h3 id="rest-api-access-credentials-3"><a class="anchor" href="#rest-api-access-credentials-3"></a>REST API access credentials</h3>
<div class="paragraph">
<p>To access FURMS REST API, administrator has to generate an API key  (secret token) and use it together with its user identifier when authenticating against <a href="./openapi-static.html">FURMS REST API</a> endpoints.</p>
</div>
<div class="paragraph">
<p>The token can be generated in User Settings &#8594; API Key. The view also provides information about the fixed user identifier as well an option to revoke a previously generated token.</p>
</div>
<div class="paragraph">
<p>The user identifier and API key should be used with the HTTP Basic authorization scheme when accessing the REST API. For example using cURL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>curl [other params] -u USER_ID:API_KEY &lt;FURMS_ENDPOINT_URL&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the generated key is bound to a user, so a user who has multiple roles (e.g. admin of a site and a project) should use the same token, regardless of the role. The generated credential is authorized to perform the same operations as its owner.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-management"><a class="anchor" href="#project-management"></a>Project management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FURMS project groups users who work on a common topic and consume resources provided by sites and assigned by communities.</p>
</div>
<div class="paragraph">
<p>Each project must have a <em>project leader</em>, who is a formal representative and a responsible person. Besides this formal role, project has one or more administrators, who can manage the project in FURMS.</p>
</div>
<div class="paragraph">
<p>Project management in FURMS consists of two main operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>managing users who work within the project,</p>
</li>
<li>
<p>managing access of project users to resources allocated to the project.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>What is more, FURMS collects resource usage information from sites on which resources are consumed. This information can be used to track budget consumption and its spread over time.</p>
</div>
<div class="sect2">
<h3 id="managing-users"><a class="anchor" href="#managing-users"></a>Managing users</h3>
<div class="paragraph">
<p>Under the Users menu entry, project administrator can view, add and remove project users. Note that project administrator needs not to be (and does not become by default) a regular project user. Administrator can however assign him/her-self project user role with a dedicated action button.</p>
</div>
<div class="paragraph">
<p>A new project user can be invited by providing his or her email address. Note that the invited person must possess a Fenix infrastructure account and accept the invitation to eventually become project user.</p>
</div>
<div class="paragraph">
<p>Users can also on their own apply for project membership. Such applications needs to be accepted (or rejected) by project admin.</p>
</div>
</div>
<div class="sect2">
<h3 id="project-settings"><a class="anchor" href="#project-settings"></a>Project settings</h3>
<div class="paragraph">
<p>Under the Settings menu entry, project administrator can control project details. Some of the settings are under control of the parent community and therefore are presented as read-only values.</p>
</div>
</div>
<div class="sect2">
<h3 id="resource-access"><a class="anchor" href="#resource-access"></a>Resource access</h3>
<div class="paragraph">
<p>Users of a project do not access to each allocation automatically. Instead, the project administrator is responsible for granting (or removing) access to each individual allocation. This is controlled on the Resource access view.</p>
</div>
<div class="paragraph">
<p>Note that there is one exception to that rule. Site sometimes define resources which are available to all users at the site. Such resources are available to all users at the site, and control of resource access is not possible for them as it is always enabled.</p>
</div>
</div>
<div class="sect2">
<h3 id="resource-allocations"><a class="anchor" href="#resource-allocations"></a>Resource allocations</h3>
<div class="paragraph">
<p>Resource allocations view shows a table with all allocations that were assigned to the project by its community. Each allocation is specific to a site and a single resource offered by this site.</p>
</div>
<div class="paragraph">
<p>It is important to know that community assigned allocation needs to be acknowledged and installed by the site. In effect of this process, the site may decide to allocate less (or even more) resources than the community requested for the project. What is more site can allocate the resources in several portions, e.g. distributing a bigger allocation into several monthly or quarterly parts.</p>
</div>
<div class="paragraph">
<p>To see the resources which were actually assigned by the site, a row with community assigned allocation needs to be expanded. This is presented on the example below, where a single community allocation for 64 hours was assigned in two chunks, of 32 and 16 hours. It is possible that the TOPSITE will provide in future additional chunk, with remaining 16 hours.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/allocation.png" alt="allocation">
</div>
</div>
<div class="sect3">
<h4 id="resource-usage-3"><a class="anchor" href="#resource-usage-3"></a>Resource usage</h4>
<div class="paragraph">
<p>Project administrators can see the details of resource usage per each resource allocation.</p>
</div>
<div class="paragraph">
<p>High level overview of the resource consumption is presented in allocations table itself as a small progress bar-like widget. More detailed information is available after navigating to the charts view, from allocation row menu.</p>
</div>
<div class="paragraph">
<p>Chart is showing the resource usage reported by a site under the given allocation. What is more the actual allocation chunks as assigned by site are also shown as a red line. Finally, if an alarm is defined, its threshold level is also shown as an orange line.</p>
</div>
<div class="paragraph">
<p>In case when site agent is reporting per-user resource consumption (what is optional in FURMS), it is possible to see per-user breakdown of the consumption, after turning it on with a toggle on top of the page.</p>
</div>
<div class="paragraph">
<p>If the visual representation is not detailed enough, it is possible to export raw information on all recorded consumption records. FURMS can export the data either to a CSV or JSON files, with a self-explanatory syntax.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="defining-alarms"><a class="anchor" href="#defining-alarms"></a>Defining alarms</h3>
<div class="paragraph">
<p>Project administrator can define resource usage alarms, in order to notify stakeholders about reaching a warning level of resources consumption from an allocation.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/alarm.png" alt="alarm">
</div>
</div>
<div class="paragraph">
<p>Alarm threshold is defined as a percentage of a total usage of allocated resources.</p>
</div>
<div class="paragraph">
<p>Administrator can define who should be notified in case of reaching of the alarm&#8217;s threshold: all administrators of the project can be notified and/or individually picked users.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Alarm level is shown on resource usage charts as well as is marked on the small resource usage widget shown in allocations table.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="managing-project-administrators"><a class="anchor" href="#managing-project-administrators"></a>Managing project administrators</h3>
<div class="paragraph">
<p>FURMS project can have multiple administrators. Each project administrator can add (and remove) other administrators from the "Site administrators" view.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Project must have a single <em>project leader</em> defined. Typically this is one of the administrators but this is not strictly necessary.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A new administrator can be invited either by selecting one of existing FURMS users or by providing an email address. In the latter case the invited person must have a Fenix infrastructure account. The invited user needs to accept the invitation to a new role.
Selection of existing users is limited to the users already belonging to the project.</p>
</div>
</div>
<div class="sect2">
<h3 id="rest-api-access-credentials-4"><a class="anchor" href="#rest-api-access-credentials-4"></a>REST API access credentials</h3>
<div class="paragraph">
<p>To access FURMS REST API, administrator has to generate an API key  (secret token) and use it together with its user identifier when authenticating against <a href="./openapi-static.html">FURMS REST API</a> endpoints.</p>
</div>
<div class="paragraph">
<p>The token can be generated in User Settings &#8594; API Key. The view also provides information about the fixed user identifier as well an option to revoke a previously generated token.</p>
</div>
<div class="paragraph">
<p>The user identifier and API key should be used with the HTTP Basic authorization scheme when accessing the REST API. For example using cURL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>curl [other params] -u USER_ID:API_KEY &lt;FURMS_ENDPOINT_URL&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the generated key is bound to a user, so a user who has multiple roles (e.g. admin of a site and a project) should use the same token, regardless of the role. The generated credential is authorized to perform the same operations as its owner.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="furms-command-line-interface-cli"><a class="anchor" href="#furms-command-line-interface-cli"></a>FURMS Command Line Interface (CLI)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FURMS ecosystem provides a command line executable, which can be used to conveniently access FURMS. The CLI application simplifies the use of the FURMS REST API, on which it is based.</p>
</div>
<div class="paragraph">
<p>FURMS CLI is designed in the first place for the Fenix and site level admins. It can be used as well by community and project admins.</p>
</div>
<div class="paragraph">
<p>Access credentials of the FURMS CLI are the same as the ones used for the REST API access and can be generated in the FURMS web UI under User Settings &#8594; API Key view.</p>
</div>
<div class="sect2">
<h3 id="downloading"><a class="anchor" href="#downloading"></a>Downloading</h3>
<div class="paragraph">
<p>FURMS CLI releases are published on GitHub. Please navigate to:</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/unity-idm/furms/releases" class="bare">https://github.com/unity-idm/furms/releases</a></p>
</div>
<div class="paragraph">
<p>and select the version of the CLI for download. Usually the latest release should be used.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-the-cli"><a class="anchor" href="#configuring-the-cli"></a>Configuring the CLI</h3>
<div class="paragraph">
<p>FURMS CLI can be run an a Linux AMD64 platform. There are no external dependencies, however it might be good to have an installation of Java Runtime Environment (of any recent version) in order to more quickly setup a truststore (see below).</p>
</div>
<div class="paragraph">
<p>To run FURMS CLI the following parameters have to be provided:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>FURMS server URL</p>
</li>
<li>
<p>Access credentials: user is and API key</p>
</li>
<li>
<p>TLS/HTTPS truststore</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The options can be set in number of ways, enumerated here in priority order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Provided as a command line parameter</p>
</li>
<li>
<p>Provided as an environmental variable</p>
</li>
<li>
<p>Loaded from a configuration file</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following table lists all mandatory parameters:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Setting</th>
<th class="tableblock halign-left valign-top">Config file property</th>
<th class="tableblock halign-left valign-top">Env variable</th>
<th class="tableblock halign-left valign-top">Command line</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FURMS URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FURMS_URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--furms-url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FURMS_USER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--user</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apikey</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FURMS_APIKEY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--api-key</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Truststore path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>truststore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FURMS_TRUSTSTORE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--truststore</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Truststore type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>truststoreType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FURMS_TRUSTSTORE_TYPE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--truststore-type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JKS</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Truststore password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>truststorePass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FURMS_TRUSTSTORE_PASS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--truststore-pass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>changeit</code></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="configuration-file"><a class="anchor" href="#configuration-file"></a>Configuration file</h4>
<div class="paragraph">
<p>Using the configuration file is typically a preferred way to configure the client. Configuration file location can be either set as a command line parameter <code>--config-file</code> or placed in the default location which is <code>.furms.properties</code> in user&#8217;s home directory.</p>
</div>
<div class="paragraph">
<p>Example configuration file contents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>apikey=12345678-b9b9-4444-5555-71123d000820
username=12345678-daaa-6666-7777-28324ec7ac88
url=https://furms.example.com</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuring-truststore"><a class="anchor" href="#configuring-truststore"></a>Configuring truststore</h4>
<div class="paragraph">
<p>The most easy way to configure HTTPS (TLS) trusted certificates is to have an installation of JRE. It includes a truststore which will be automatically picked by FURMS CLI, if only <code>$JAVA_HOME</code> environment variable is properly pointing to the root of the JRE installation.</p>
</div>
<div class="paragraph">
<p>Otherwise a JKS or PKCS12 file needs to be created, including a CA certificate, which was used to issue a certificate of the FURMS server. In such case truststore needs to be configured with the three options shown in the table above.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-the-client"><a class="anchor" href="#using-the-client"></a>Using the client</h3>
<div class="paragraph">
<p>All CLI main commands are listed with the <code>-h</code> switch, e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[user001@examplebox]$ ./furms -h
Usage: furms [-hV] [COMMAND]
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Commands:
  community
  group
  project
  site</pre>
</div>
</div>
<div class="paragraph">
<p>Each main command can have a subcommand (and sometimes even sub-sub command). In each case typing the <code>-h</code> switch after all commands provides contextual help:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[user001@examplebox]$ ./furms site policy list -h
Usage: furms site policy list [-dhsvV] [--api-key=&lt;apiKey&gt;]
                                     [--config-file=&lt;configFile&gt;]
                                     [--furms-url=&lt;furmsurl&gt;]
                                     [--truststore=&lt;truststore&gt;]
                                     [--truststore-pass=&lt;truststorepass&gt;]
                                     [--truststore-type=&lt;truststoreType&gt;]
                                     [--user=&lt;username&gt;] &lt;siteId&gt;
Retrieve site policies
[...]</pre>
</div>
</div>
<div class="paragraph">
<p>Output of the operation is printed in JSON format.</p>
</div>
</div>
<div class="sect2">
<h3 id="format-of-selected-inputs"><a class="anchor" href="#format-of-selected-inputs"></a>Format of selected inputs</h3>
<div class="sect3">
<h4 id="creation-of-community-allocation"><a class="anchor" href="#creation-of-community-allocation"></a>Creation of community allocation</h4>
<div class="paragraph">
<p>Creation of community allocation requires its definition provided in JSON format. The syntax should be as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "name" : "My CLI Allocation",
  "creditId" : "fe1f2d62-4568-42da-809d-0a59f6bc6174",
  "amount" : 10
}</pre>
</div>
</div>
<div class="paragraph">
<p>Example use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>furms community allocation create --file &lt;PATH_TO_JSON_FILE&gt; &lt;COMMUNITY-ID&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="diagnostic-messages"><a class="anchor" href="#diagnostic-messages"></a>Diagnostic messages</h3>
<div class="paragraph">
<p>By default FURMS client prints command result in JSON, and can also print (rather rarely) some extra information prefixed with the <code>[INFO]</code> label.</p>
</div>
<div class="paragraph">
<p>What is more all FURMS CLI commands share several options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-s, --silent</code> will turn off any diagnostic output on the standard output. Only the results of operations are output in JSON format. Note that typically even without this option no extra messages are printed anyway; this option sets up the client not to print anything extra in any case.</p>
</li>
<li>
<p><code>-v, --verbose</code> contrary to <code>--silent</code> will instruct the app to print more diagnostic data on standard output.</p>
</li>
<li>
<p><code>-d, --debug</code> as above but even more diagnostic output can be printed.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="end-user-support"><a class="anchor" href="#end-user-support"></a>End User support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Every user that signs into FURMS has access to her/his FURMS profile &amp; settings view. For the users who have no additional roles, this is the only accessible view, others can activate it from the top-right view chooser.</p>
</div>
<div class="paragraph">
<p>User settings allows every FURMS user to check:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>personal information which is exposed to FURMS by the Fenix infrastructure,</p>
</li>
<li>
<p>user&#8217;s sites and projects,</p>
</li>
<li>
<p>SSH keys management.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="sites"><a class="anchor" href="#sites"></a>Sites</h3>
<div class="paragraph">
<p>Sites view shows all sites to which access is granted. Note that if access to a site is granted through several projects, then multiple entries will show up, for each project.</p>
</div>
<div class="paragraph">
<p>Table shows the local user identifier at the site as well as the site-provided information on connection and other special access rules.</p>
</div>
</div>
<div class="sect2">
<h3 id="projects"><a class="anchor" href="#projects"></a>Projects</h3>
<div class="paragraph">
<p>The projects view provides a list of all FURMS projects. By default only the projects where the user is a member are shown.</p>
</div>
<div class="paragraph">
<p>For each project of the user, it is possible to drill down and check available allocations in that project.</p>
</div>
<div class="paragraph">
<p>It is possible to apply for a membership in a project. In order to do so, first the filter to include "Remaining projects" must be selected. Then after locating a project of interest an access application can be submitted.</p>
</div>
<div class="sect3">
<h4 id="resource-usage-4"><a class="anchor" href="#resource-usage-4"></a>Resource usage</h4>
<div class="paragraph">
<p>It is possible to inspect the details of actual resource usage per each resource allocation in any of the projects.</p>
</div>
<div class="paragraph">
<p>High level overview of the resource consumption is presented in allocations table itself as a small progress bar-like widget. More detailed information is available after navigating to the charts view, from allocation row menu.</p>
</div>
<div class="paragraph">
<p>Chart is showing the resource usage reported by a site under the given allocation. What is more the actual allocation chunks as assigned by site are also shown as a red line. Finally, if an alarm is defined, its threshold level is also shown as an orange line.</p>
</div>
<div class="paragraph">
<p>If the visual representation is not detailed enough, it is possible to export raw information on all recorded consumption records. FURMS can export the data either to a CSV or JSON files, with a self-explanatory syntax.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ssh-keys-management"><a class="anchor" href="#ssh-keys-management"></a>SSH keys management</h3>
<div class="paragraph">
<p>The 'SSH Keys' view allows for managing public SSH keys across all sites to which access is granted via project membership.</p>
</div>
<div class="paragraph">
<p>FURMS allows to define separate keys per each site, or to share the same key across several sites. Multiple keys can be installed for each site.</p>
</div>
<div class="paragraph">
<p>Format of SSH key is the same as used in the authorized_keys file of SSH. See <a href="http://man.openbsd.org/sshd.8#AUTHORIZED_KEYS_FILE_FORMAT" class="bare">http://man.openbsd.org/sshd.8#AUTHORIZED_KEYS_FILE_FORMAT</a> for more details.</p>
</div>
<div class="paragraph">
<p>Update of a key removes the old value from sites and then installs an updated one.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Some sites may require to set the 'from' option in the SSH key. Keys without that option can&#8217;t be added to sites requiring the 'from' option.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="policy-documents-2"><a class="anchor" href="#policy-documents-2"></a>Policy documents</h3>
<div class="paragraph">
<p>Sites providing resources may require acceptance of their policy document(s). Typically there is a single document per site, and sometimes there are additional documents per a site-offered service.</p>
</div>
<div class="paragraph">
<p>Typically the pending policy documents can be accepted from FURMS "User Settings" &#8594; "Policy Documents" view. Site may also require delivery of physical paper document with a hand signature. In such case FURMS will provide the necessary document with an ability to download it.</p>
</div>
<div class="paragraph">
<p>Note that lack of acceptance of the site&#8217;s policy document will prevent user account creation on the site.</p>
</div>
<div class="paragraph">
<p>In case when a previously accepted document is updated, a notification will be delivered asking for an acceptance of the updated version.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-03-15 12:58:06 UTC
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</body>
</html>